<section>
	<h1 class="contents_title"><a id="top">カードゲーム</a></h1>
	<div class="contents_back">
		<span class="red">現在公開しているものはテスト版です。<br>
		スキル効果、発動条件の動作確認も不完全であり、プラグインパラメータや<br>
		その他機能等も今後大きく変更する可能性があります。</span><br>
		<br>
		デッキ構成のみで勝敗が決まるカードゲーム機能を追加します。<br>
		<br>
		<a href="img/plugin/screen_shot/TMCard_top_1.jpg" class="fancybox" data-fancybox-group="SS" title="デッキ編集シーン"><img src="img/plugin/screen_shot/TMCard_top_1_thum.jpg"></a>
		<a href="img/plugin/screen_shot/TMCard_top_2.jpg" class="fancybox" data-fancybox-group="SS" title="カードバトルシーン"><img src="img/plugin/screen_shot/TMCard_top_2_thum.jpg"></a><br>
		<br>
		■<a href="mv/TMCard/">動作サンプル (ブラウザ版)</a><br>
		<br>
		◆<a href="zip/TMCard.zip">サンプルプロジェクト (ダウンロード版)</a><br>
		カードゲームを動作させるための準備を済ませたプロジェクトです、<br>
		ツクールMVをお持ちの方はこちらをダウンロードしてください。<br>
		<span class="red">このプロジェクトに含まれている TMCard.js は最新のものでない場合があります。<br>
		プラグインヘルプを確認のうえ、必要に応じて最新のプラグインを別途ダウンロードして<br>
		お使いください。</span><br>
		<br>
		◆<a href="plugin/TMCard.js">プラグイン（ TMCard.js ）のダウンロード</a><br>
		<br>
		<span class="red">2019/05/14</span> Ver0.1.7b<br>
		・カードゲームのメッセージウィンドウ表示位置を設定するプラグインパラメータを追加<br>
		<br>
		<span class="toggle">過去の更新履歴</span>
		<p class="release_notes">
			<span class="red">2017/03/24</span> Ver0.1.6b<br>
			・攻撃アニメーション細かく設定する機能を追加<br>
			<br>
			<span class="red">2017/02/14</span> Ver0.1.5b<br>
			・スキルを持たないカードを許容するように仕様を変更<br>
			<br>
			<span class="red">2017/02/06</span> Ver0.1.4b<br>
			・デッキ編集シーンでアイテムカードが正しく選択できない場合がある不具合を修正<br>
			・タイプボーナスの有無を切り替えるプラグインコマンドを追加<br>
			<br>
			<span class="red">2017/01/31</span> Ver0.1.3b<br>
			・スキル発動条件 4, 5, 6 番の条件値に -1, -2 を追加<br>
			　自分と相手の値を比較する条件を設定できるようになります。<br>
			・デッキ編集シーンを呼び出すプラグインコマンドを追加<br>
			<br>
			<span class="red">2017/01/27</span> Ver0.1.2b<br>
			・スキル発動条件 31, 32 番が正しく動作しない不具合を修正。<br>
			<br>
			<span class="red">2016/12/20</span> Ver0.1.1b<br>
			・総ターン数が設定値を超えるとゲームを終了させる時間切れ機能を追加。<br>
			・チャージ中のアイテムカードの残りターン数を可視化。<br>
			・サンプルカード画像を追加 (データベース未設定)<br>
			<br>
			<span class="red">2016/12/09</span> Ver0.1.0b<br>
			・テスト版公開<br>
		</p>
	</div>
</section>

<section>
	<h1 class="contents_title"><a id="index">インデックス</a></h1>
	<div class="contents_back">
		■<a href="#howto">使い方</a><br>
		■<a href="#control">操作方法</a><br>
		■<a href="#typeBonus">タイプボーナス</a><br>
		■<a href="#itemTag">メモ欄タグ (アイテム)</a><br>
		■<a href="#skillTag">メモ欄タグ (スキル)</a><br>
		■<a href="#command">プラグインコマンド</a><br>
		■<a href="#effect">スキル効果</a><br>
		■<a href="#rule">スキル発動条件</a><br>
	</div>
</section>

<section>
	<h1 class="contents_title"><a id="howto">使い方</a></h1>
	<div class="contents_back">
		必要な準備は以下のとおりです。<br>
		<br>
		プロジェクトの準備<br>
		　・プラグイン(TMCard.js)の導入<br>
		　・カード画像の準備<br>
		　　　　サンプルプロジェクトの img/pictures フォルダ内の画像を<br>
		　　　　コピー＆ペーストして使ってください。<br>
		<br>
		データベースの準備<br>
		　・カードスキルの設定<br>
		　・カードアイテムの設定<br>
		　　　アイテムのメモ欄に<a href="#itemTag">タグ</a>を書き込むことで、そのアイテムが<br>
		　　　　カードとして扱われるようになります。<br>
		<br>
		ゲーム内での準備<br>
		　・カードゲームで使用するゲーム変数の初期設定<br>
		　　　　プラグインパラメータ vnMaxDeck / vnMaxCard / vnMaxCost に<br>
		　　　　カードゲームで使用する<span class="red">ゲーム変数の番号</span>を設定し、<br>
		　　　　イベントコマンド『変数の操作』でこれらのゲーム変数に値を代入してください。<br>
		　　　　vnMaxDeck の値が 2 ならば、ゲーム変数 2 番にデッキの最大数を代入します。<br>
		　　　　デッキの最大数が設定されていないと、メニューコマンドにデッキ編集の<br>
		　　　　項目が表示されません。<br>
		　・カードアイテムの入手<br>
		　　　　データベースでカードとして設定したアイテムを<br>
		　　　　イベントコマンド『アイテムの増減』で入手してください。<br>
		　・デッキ編集<br>
		　　　　メニューコマンド『デッキ編集』でデッキを組んでください。<br>
		　　　　カードがセットされたデッキがひとつもない場合はカードゲームが遊べません。<br>
		　・プラグインコマンド(startDeckSelect / startCardBattle)の実行<br>
		<br>
		カードゲーム後の処理<br>
		　・勝敗判定<br>
		　　　　プラグインパラメータ vnResult に設定した番号のゲーム変数に<br>
		　　　　カードゲームの結果が代入されます。<br>
		　　　　この値を使ってイベント内容を分岐させてください。<br>
		　　　　-1 … デッキ選択の段階でキャンセルした<br>
		　　　　 0 … 引き分け (同時に最後のカードのHPが 0 になった)<br>
		　　　　 1 … プレイヤーの負け<br>
		　　　　 2 … プレイヤーの勝ち<br>
		　　　　 3 … 時間切れ (プラグインパラメータ maxTurn の値を超過)<br>
	</div>
</section>

<section>
	<h1 class="contents_title"><a id="control">操作方法</a></h1>
	<div class="contents_back">
		カードゲーム中に必要な操作はメッセージ送りのみとなっています。<br>
		ランダム要素は一切ありません、デッキ構成のみで勝敗が決まります。<br>
		<br>
		デッキ編集の操作も通常のメニュー操作と変わりません。<br>
	</div>
</section>

<section>
	<h1 class="contents_title"><a id="typeBonus">タイプボーナス</a></h1>
	<div class="contents_back">
		ダメージ判定時に自分と相手のタイプを比較し、条件が合っていればダメージが<br>
		1 ポイントだけ加算されます。<br>
		条件は下記の 4 パターンです。<br>
		・攻撃側が 0 / 相手が 2<br>
		・攻撃側が 1 / 相手が 0<br>
		・攻撃側が 2 / 相手が 1<br>
		・攻撃側が 3 / 相手が 3<br>
		<br>
		タイプボーナスはプラグインコマンド disableTypeBonus / enableTypeBonus で<br>
		適用するかどうか切り替えることができます。<br>
	</div>
</section>

<section>
	<h1 class="contents_title"><a id="itemTag">メモ欄タグ (アイテム)</a></h1>
	<div class="contents_back">
		&lt;cardCost:1&gt;<br>
		　このアイテムをコスト 1 のカードとして扱うようになります。<br>
		<br>
		&lt;cardHp:10&gt;<br>
		　このアイテムのカードとしての耐久値を 10 に設定します。<br>
		<br>
		&lt;cardAtk:2&gt;<br>
		　このアイテムのカードとしての攻撃力を 2 に設定します。<br>
		<br>
		&lt;cardType:0&gt;<br>
		　このアイテムのカードタイプを 0 番のものに設定します。<br>
		　タイプ値が 4 のカードはアイテムカードとして扱われます。<br>
		<br>
		&lt;cardElement:1&gt;<br>
		　このアイテムのカード属性を 1 番のものに設定します。<br>
		<br>
		&lt;cardRare:2&gt;<br>
		　このアイテムのカード稀少度を 2 番のものに設定します。<br>
		<br>
		&lt;unitSkill:20&gt;<br>
		　このアイテムの固有スキルとして 20 番のスキルを設定します。<br>
		<br>
		&lt;partySkill:21&gt;<br>
		　このアイテムのパーティスキルとして 21 番のスキルを設定します。<br>
		<br>
		&lt;cardAttackAnimation:2&gt;<br>
		　このアイテムの攻撃アニメーションを 2 番に設定します。<br>
		　省略された場合はプラグインパラメータ『animationAttack』及び<br>
		　『animationEnemyAttack』が適用されます。<br>
		<br>
		&lt;cardImage:sample_card&gt;<br>
		　img/pictures フォルダ内の sample_card.png というファイルを<br>
		　カード画像として設定します。<br>
		　このタグがない場合 card_ という文字列にアイテム番号を<br>
		　付与したファイル名になります。<br>
	</div>
</section>

<section>
	<h1 class="contents_title"><a id="skillTag">メモ欄タグ (スキル)</a></h1>
	<div class="contents_back">
		&lt;cardEffect:1,2&gt;<br>
		　カードスキルとしての効果を設定します。<br>
		　効果番号と効果値をカンマで区切って指定してください。<br>
		<br>
		&lt;cardRules:2,0 7,5&gt;<br>
		　カードスキルとしての発動条件を設定します。<br>
		　条件番号と条件値をカンマで区切って指定してください。<br>
		　半角スペースで区切ることで複数の条件を設定できます。<br>
		<br>
		&lt;cardRepeats:2&gt;<br>
		　カードスキルの効果が発動する回数を設定します。<br>
		　同一ターン内に複数回発動することはありません。<br>
	</div>
</section>

<section>
	<h1 class="contents_title"><a id="command">プラグインコマンド</a></h1>
	<div class="contents_back">
		startCardBattle 村人Ａ 0 1,2,3<br>
		　対戦相手の名前、アイテムカード番号、デッキ(カンマで区切ったカード番号)<br>
		　を指定してカードゲームを開始します。<br>
		　プレイヤーが使用するデッキは、カードがセットされているデッキの中で<br>
		　最も上にあるものとなります。<br>
		<br>
		　アイテムカード番号を負の値にすることでカードの初期状態を裏返しに<br>
		することができます。<br>
		<br>
		startDeckSelect 村人Ａ 0 1,2,3<br>
		　カードゲーム開始前にプレイヤーがデッキを選択することができます。<br>
		　デッキ選択がキャンセルされた場合、結果変数に -1 が代入されます。<br>
		<br>
		isDeckReady 1<br>
		　プレイヤーが有効なデッキをひとつ以上組んでいるかどうかを判定します。<br>
		　カードゲームが可能な状態であれば、指定した番号のゲームスイッチが<br>
		　オンになり、不可能な状態(カードをセットしたデッキがない)であれば<br>
		　オフになります。<br>
		<br>
		startDeckEdit<br>
		　デッキ編集シーンを呼び出します。<br>
		<br>
		disableTypeBonus<br>
		　タイプボーナスの機能を無効にします。<br>
		　ゲーム開始時にはタイプボーナスが有効になっています。<br>
		<br>
		enableTypeBonus<br>
		　無効にしたタイプボーナスの機能を元に戻します。<br>
	</div>
</section>

<section>
	<h1 class="contents_title"><a id="effect">スキル効果</a></h1>
	<div class="contents_back">
		cardEffect タグで利用できる効果番号の一覧です。<br>
		赤色で条件が書かれているものは、その条件が自動的に付与されます。<br>
		<br>
		1 : 相手に与えるダメージ＋○○ / <span class="red">自分のターンの計算フェイズ</span><br>
		2 : 相手に与えるダメージが２倍になる / <span class="red">自分のターンの計算フェイズ</span><br>
		3 : 相手から受けるダメージ＋○○ / <span class="red">相手のターンの計算フェイズ</span><br>
		4 : 相手から受けるダメージが半分になる / <span class="red">相手のターンの計算フェイズ</span><br>
		5 : 相手の継承スキルを無効化<br>
		6 : 相手の攻撃をスルー / <span class="red">相手のターンの準備フェイズ</span><br>
		7 : 自分のＨＰ＋○○<br>
		8 : 自分の攻撃力＋○○<br>
		9 : 自分の攻撃力を○○にする<br>
		10: 相手のＨＰ＋○○<br>
		11: 相手の攻撃力＋○○<br>
		12: 相手の攻撃力を○○にする<br>
		13: ○○の攻撃力を最大にする ( 0 = 自分 / 1 = 相手 )<br>
		14: 自分のＨＰ－○○、与えるダメージ＋○○ / <span class="red">自分のターンの計算フェイズ</span><br>
		15: 自分と相手の○○を入れ替える ( 0 = ＨＰ / 1 = 攻撃力 )<br>
		16: 自分と相手の○○を平均化 ( 0 = ＨＰ / 1 = 攻撃力 )<br>
		17: 相手に○○のダメージ / <span class="red">自分のターンの準備フェイズ</span><br>
		18: 自分と相手に○○のダメージ / <span class="red">自分のターンの準備フェイズ</span><br>
		19: 未使用<br>
		20: 自分の継承スキルを相手と同じにする<br>
		21: 相手の継承スキルを奪う<br>
		22: 相手の継承スキルを○○にすりかえる ( スキル番号 )<br>
		23: 相手の固有スキルを○○にすりかえる ( スキル番号 )<br>
		24: 使用済みスキルが復活する<br>
		25: 以降のタイプボーナスを無効化<br>
		26: 以降の攻撃力上限を○○にする<br>
		27: 以降の攻撃力上限＋○○<br>
		28: 自分の攻撃力を以降の攻撃力上限にする<br>
		29: 攻撃力を１にするが、毎ターン攻撃力＋１ ( 0 = 自分 / 1 = 相手 )<br>
		30: 攻撃力を最大にするが、毎ターン攻撃力－１ ( 0 = 自分 / 1 = 相手 )<br>
	</div>
</section>

<section>
	<h1 class="contents_title"><a id="rule">スキル発動条件</a></h1>
	<div class="contents_back">
		cardRules タグで利用できる条件番号の一覧です。<br>
		○○は条件値によって変化します (括弧内は条件値に設定例)<br>
		<br>
		1 : 自分のターンの○○フェイズ ( 0 = 準備 / 1 = 計算 / 2 = 攻撃 )<br>
		2 : 相手のターンの○○フェイズ ( 0 = 準備 / 1 = 計算 / 2 = 攻撃 )<br>
		3 : ○○ターン目<br>
		4 : 相手が○○タイプ ( -2 = 同じ / -1 = 違う / 0 ～ 3 )<br>
		5 : 相手が○○属性 ( -2 = 同じ / -1 = 違う /  0 ～ )<br>
		6 : 相手のレアリティが○○ ( -2 = 同じ / -1 = 違う /  0 ～ )<br>
		7 : 相手のポジションが○○ ( 0 = 1st ～ )<br>
		8 : 相手のＨＰが○○以上<br>
		9 : 相手のＨＰが○○以下、ただし 0 は除く<br>
		10: 相手のＨＰが○○になった<br>
		11: 相手のＨＰが○○（ 0 = 奇数 / 1 = 偶数 )<br>
		12: 相手の攻撃力が○○以上<br>
		13: 相手の攻撃力が○○以下<br>
		14: 相手の攻撃力が○○になった<br>
		15: 相手の攻撃力が○○（ 0 = 奇数 / 1 = 偶数 )<br>
		16: 自分が○○タイプ ( 0 ～ 3 )<br>
		17: 自分が○○属性 ( 0 ～ )<br>
		18: 自分のレアリティが○○ ( 0 ～ )<br>
		19: 自分のポジションが○○（ 0 = 1st ～ )<br>
		20: 自分のＨＰが○○以上<br>
		21: 自分のＨＰが○○以下、ただし 0 は除く<br>
		22: 自分のＨＰが○○になった<br>
		23: 自分のＨＰが○○ ( 0 = 奇数 / 1 = 偶数 )<br>
		24: 自分の攻撃力が○○以上<br>
		25: 自分の攻撃力が○○以下<br>
		26: 自分の攻撃力が○○になった<br>
		27: 自分の攻撃力が○○ ( 0 = 奇数 / 1 = 偶数 )<br>
		28: 自分が○○を継承している ( スキル番号 )<br>
		29: 自分のコストが相手より低い<br>
		30: 自分のコストが相手より高い<br>
		31: 自デッキのタイプが統一されている<br>
		32: 自デッキの属性が統一されている<br>
		33: 自デッキのコストが○○以上<br>
		34: 自デッキのコストが○○以下<br>
	</div>
</section>
